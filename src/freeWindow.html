<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        box-sizing: border-box;
      }
      #box {
        display: flex;
        flex-direction: column;
        align-items: center;
        height: 100vh;
        justify-content: center;
        background: #000;
      }
      #search {
        display: flex;
      }
      #search #url {
        width: 200px;
        height: 40px;
        border: 3px solid #1890ff;
        border-radius: 5px 0 0 5px;
        border-right: 0;
        outline: none;
        padding: 0 15px 0 15px;
      }
      #search #do {
        height: 40px;
        cursor: pointer;
        border-left: 0;
        color: #fff;
        background-color: #1890ff;
        line-height: 40px;
        text-align: center;
        border-radius: 0 5px 5px 0;
        width: 80px;
        font-weight: bold;
      }
      #search #do:hover {
        background: #0050b3;
        border: 0;
      }
      #github {
        margin: 10px 0;
        display: flex;
        align-items: center;
      }
      #github a {
        color: #eee;
        font-style: italic;
      }
      #history {
        width: 280px;
      }
      .err-input {
        border-color: #f5222d !important;
      }
    </style>
  </head>
  <body>
    <div id="box">
      <div id="logo">
        <svg
          t="1626417678364"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="2025"
          width="128"
          height="128"
        >
          <path
            d="M611.669333 928.426667c-52.906667 0-157.696-12.970667-207.872-107.178667h-1.365333c-26.282667 0-78.506667-2.389333-137.898667-19.456-112.298667-31.744-197.632-99.328-246.442666-195.242667l-6.144-11.946666 6.826666-11.264c1.365333-2.389333 36.181333-59.392 97.962667-113.664 77.482667-67.925333 163.84-100.693333 250.197333-95.232 5.461333-12.970667 15.36-30.378667 32.426667-46.421334 28.330667-27.306667 82.602667-56.661333 180.906667-41.984l38.570666 5.802667-87.04 122.538667c47.445333 25.941333 160.768 78.506667 209.237334 21.845333 60.074667-70.656-78.848-198.997333-80.213334-200.362667l-43.690666-39.594666 59.050666-2.048c1.706667 0 168.96-7.509333 278.528-92.842667l28.330667-22.186667 9.557333 34.474667c2.389333 9.216 61.098667 230.4-53.248 430.08-68.266667 119.125333-182.954667 204.117333-341.333333 253.610667l84.992 124.586666-38.570667 5.12c-2.730667-0.341333-14.677333 1.365333-32.768 1.365334z m-177.834666-156.672l6.826666 15.701333c31.744 73.386667 107.861333 90.112 155.648 92.842667l-75.776-110.933334 32.426667-8.874666c162.474667-44.032 278.186667-124.928 344.405333-240.298667 79.530667-138.922667 66.56-292.864 55.637334-359.765333-77.824 48.810667-169.301333 68.608-224.597334 76.458666 46.421333 53.248 114.005333 153.6 49.152 230.058667-26.282667 31.061333-61.781333 41.984-98.986666 41.984-89.088 0-188.074667-63.488-194.218667-67.242667l-20.821333-13.653333 69.973333-98.304c-43.349333-0.341333-77.824 10.581333-100.693333 32.426667-20.48 19.797333-25.258667 41.642667-25.258667 41.984l-4.096 22.186666-22.528-2.730666c-166.229333-21.162667-283.989333 130.389333-313.344 173.397333 107.178667 190.805333 347.477333 176.128 349.866667 176.128l16.384-1.365333z"
            fill="#ffffff"
            p-id="2026"
          ></path>
          <path
            d="M281.6 806.229333l-13.312-3.413333c-114.346667-31.061333-200.704-98.986667-250.197333-196.266667l-6.144-11.946666 6.826666-11.264c3.754667-6.144 91.136-149.845333 239.274667-195.925334l12.970667-4.096 10.24 9.216c3.754667 3.413333 7.509333 6.826667 10.922666 10.581334 108.202667 108.202667 108.202667 284.672 0 392.874666l-10.581333 10.24z m-214.698667-209.578666C109.226667 672.426667 176.469333 724.650667 267.264 752.64c80.554667-90.112 77.824-228.352-8.192-315.050667C158.037333 474.453333 88.746667 565.248 66.901333 596.650667zM850.944 497.664c8.874667-25.6 17.408-49.152 24.576-72.362667 7.168-23.210667 13.653333-45.738667 17.749333-68.266666 4.096-22.528 6.485333-45.397333 6.144-68.608 0-23.552-3.072-47.445333-6.485333-74.752 10.581333 8.874667 19.456 19.114667 26.624 31.061333 3.754667 5.802667 6.826667 11.946667 9.898667 18.432 1.365333 3.072 2.730667 6.485333 3.754666 9.557333 1.365333 3.413333 2.389333 6.485333 3.413334 9.898667 7.850667 26.965333 8.874667 55.978667 3.754666 83.285333-5.12 27.648-16.042667 53.589333-31.061333 76.117334-7.509333 11.264-16.042667 21.845333-25.6 31.402666-4.778667 4.778667-9.898667 9.216-15.36 13.312-5.802667 4.096-11.264 7.850667-17.408 10.922667z"
            fill="#ffffff"
            p-id="2027"
          ></path>
          <path
            d="M834.901333 418.816c-3.754667-17.408-5.12-32.085333-6.826666-46.08l-3.754667-38.912c-0.682667-6.144-1.365333-12.288-2.389333-18.090667-0.682667-6.144-1.706667-11.946667-3.072-18.432-2.048-12.629333-6.144-25.941333-10.922667-43.008 4.437333 0.682667 8.874667 1.365333 12.970667 3.072 2.048 0.682667 4.096 1.706667 6.144 2.389334 2.048 1.024 3.754667 2.048 5.802666 3.072 7.509333 4.437333 14.336 10.581333 19.797334 17.408 5.461333 6.826667 9.898667 14.677333 13.312 23.210666 3.072 8.192 5.461333 17.066667 6.144 25.6 1.706667 17.408-0.682667 34.474667-6.826667 49.834667-3.072 7.850667-7.168 15.018667-11.946667 21.845333-5.12 6.826667-10.922667 12.970667-18.432 18.090667zM198.997333 588.458667c-10.581333 0-19.114667-8.533333-19.114666-19.114667 0-10.581333 8.533333-19.114667 19.114666-19.114667s19.114667 8.533333 19.114667 19.114667c0 10.581333-8.533333 19.114667-19.114667 19.114667z"
            fill="#ffffff"
            p-id="2028"
          ></path>
          <text
            fill="#fff"
            stroke="#fff"
            stroke-width="0"
            opacity="1"
            x="400"
            y="700"
            id="svg_4"
            font-size="200"
          >
            摸
          </text>
        </svg>
      </div>
      <div id="search">
        <input name="__history" id="url" autocomplete="on" type="text" />
        <div id="do" title="Free 一下，你就自由">FREE</div>
      </div>
      <div id="github">
        <svg
          t="1626415200619"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="1391"
          width="20"
          height="20"
        >
          <path
            d="M960 512a435.2 435.2 0 0 1-85.76 263.36 440 440 0 0 1-220.48 161.92 26.88 26.88 0 0 1-23.04-4.16 22.72 22.72 0 0 1-7.04-17.6v-122.88a104.64 104.64 0 0 0-30.4-82.88 416 416 0 0 0 59.52-10.24 218.24 218.24 0 0 0 54.72-23.04 164.8 164.8 0 0 0 47.04-38.4 184 184 0 0 0 32-61.44 293.76 293.76 0 0 0 12.16-88 168.64 168.64 0 0 0-46.4-120 154.88 154.88 0 0 0-4.48-119.04 76.48 76.48 0 0 0-47.04 6.4 300.48 300.48 0 0 0-53.76 25.6l-22.08 13.76a416 416 0 0 0-224 0c-6.4-4.48-14.4-9.28-24.64-15.68A326.08 326.08 0 0 0 326.4 256a82.88 82.88 0 0 0-50.24-8 156.8 156.8 0 0 0-4.16 120 173.76 173.76 0 0 0-46.08 120.64A288 288 0 0 0 238.08 576a196.48 196.48 0 0 0 32 61.44 152 152 0 0 0 47.04 39.04 267.84 267.84 0 0 0 54.72 23.04 414.08 414.08 0 0 0 59.84 10.24 92.48 92.48 0 0 0-28.8 60.16 99.2 99.2 0 0 1-26.56 8.32 167.36 167.36 0 0 1-32 2.88A69.12 69.12 0 0 1 303.36 768a109.44 109.44 0 0 1-32-36.48 96 96 0 0 0-28.16-30.4 80.64 80.64 0 0 0-28.8-14.08h-11.52a41.6 41.6 0 0 0-16.96 2.56q-4.8 2.88-2.88 6.72a44.16 44.16 0 0 0 5.44 8 55.36 55.36 0 0 0 7.68 7.36l4.16 2.56a78.08 78.08 0 0 1 25.6 22.08 157.76 157.76 0 0 1 18.24 29.44l5.76 13.44a72.32 72.32 0 0 0 25.6 36.16 96 96 0 0 0 38.72 16.64 196.16 196.16 0 0 0 40.32 4.16 182.08 182.08 0 0 0 32-2.24l13.44-2.24v83.84a23.04 23.04 0 0 1-7.68 17.6 27.84 27.84 0 0 1-23.36 4.16 438.08 438.08 0 0 1-219.2-162.88A427.84 427.84 0 0 1 64 512a437.44 437.44 0 0 1 60.16-224A443.52 443.52 0 0 1 288 124.16 437.44 437.44 0 0 1 512 64a437.44 437.44 0 0 1 224 60.16A443.52 443.52 0 0 1 899.84 288 436.8 436.8 0 0 1 960 512z"
            p-id="1392"
            fill="#eee"
          ></path>
        </svg>
        &nbsp;
        <a href="https://github.com/lecepin">lecepin</a>
      </div>
      <div id="history">
        <div>历史</div>
        <div id="history-list"></div>
      </div>
    </div>
    <script>
      const doBtn = document.getElementById("do");
      const urlInput = document.getElementById("url");
      const historyDiv = document.getElementById("history");
      const historyList = document.getElementById("history-list");

      refreshHistoryList();
      urlInput.focus();

      urlInput.onkeypress = (e) => {
        if (e.keyCode == 13) {
          goTo();
        }
      };
      doBtn.onclick = () => {
        goTo();
      };

      function goTo() {
        const searchKey = urlInput.value;

        if (!/^https?:\/\/.+/.test(searchKey)) {
          urlInput.classList.add("err-input");
          return;
        }
        urlInput.classList.remove("err-input");
        setHistoryRecord(searchKey);
        location.href = searchKey;
      }

      function getHistoryRecord(key = "__history") {
        let historyRecord = [];
        try {
          const _historyRecord = JSON.parse(localStorage.getItem(key));
          historyRecord = Array.isArray(_historyRecord) ? _historyRecord : [];
        } catch (error) {}

        return historyRecord;
      }

      function setHistoryRecord(value, key = "__history") {
        let historyRecord = getHistoryRecord(key);

        historyRecord.unshift(value);
        localStorage.setItem(key, JSON.stringify(historyRecord));

        return value;
      }

      function clearHistoryRecord(key = "__history") {
        localStorage.setItem(key, JSON.stringify([]));
      }

      function refreshHistoryList() {
        const historyRecord = getHistoryRecord();

        if (!historyRecord.length) {
          historyDiv.style.display = "none";
          return;
        }

        historyDiv.style.display = "block";
        historyList.innerHTML = historyRecord
          .map((item) => `<div>${item}</div>`)
          .join("");
      }
    </script>
  </body>
</html>
